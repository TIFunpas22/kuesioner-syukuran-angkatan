<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- Default CSS -->
    <link rel="stylesheet" href="style.css" />
    <title>kuesioner-sa-tif22</title>
  </head>
  <body class="ms-5 me-5">
    <!-- Header -->
    <br />
    <header>
      <h2 class="text-center mb-4">
        KUESIONER SYUKURAN ANGKATAN <br />
        TEKNIK INFORMATIKA <br />
        UNIVERITAS PASUNDAN <br />
        ANGKATAN 2022
      </h2>
    </header>
    <!-- Hero -->
    <div class="hero">
      <img src="img/logo-if-22.jpg" class="img-fluid mb-5" alt="..." />
    </div>
    <!-- Alert -->
    <div class="alert alert-success d-none my-alert" role="alert">
      <p class="text-center">
        <strong>Thanks !</strong> We have received your message
      </p>
    </div>
    <form name="sa-if22-kuesioner">
      <!-- Nama -->
      <div class="mb-5">
        <label for="exampleInputEmail1" class="form-label mt-5"
          ><strong>Nama</strong></label
        >
        <input
          name="nama"
          type="text"
          class="form-control"
          id="exampleInputEmail1"
          aria-describedby="emailHelp"
          required
          placeholder="Ketikan nama anda disini"
        />
        <div id="emailHelp" class="form-text">* Wajib diisi dengan benar</div>
      </div>
      <!-- Npm -->
      <div class="mb-5">
        <label for="exampleInputEmail1" class="form-label">
          <strong>NRP</strong>
        </label>
        <input
          name="npm"
          type="text"
          class="form-control"
          id="exampleInputEmail1"
          aria-describedby="emailHelp"
          required
          placeholder="Ketikan NRP anda disini"
        />
        <div id="emailHelp" class="form-text">* Wajib diisi dengan benar</div>
      </div>
      <hr />
      <!-- Bersedia hadir SA -->
      <div class="hadir-sa mb-5">
        <p class="mt-5">
          Apakah anda bersedia hadir dalam acara
          <strong>Syukuran Angkatan 2022</strong>
        </p>
        <select
          name="kehadiran-sa"
          class="form-select mb-5"
          aria-label="Default select example"
        >
          <option>Ya</option>
          <option>Tidak</option>
        </select>
      </div>
      <hr />
      <!-- Bersedia tampil pensi -->
      <div class="tampil-pensi mb-5">
        <p class="mt-5">
          Apakah anda ingin menampilkan pensi pada acara
          <strong>Syukuran Angkatan 2022</strong>
        </p>
        <select
          name="kesediaan-pensi"
          class="form-select mb-5"
          aria-label="Default select example"
        >
          <option>Ya</option>
          <option>Tidak</option>
        </select>
      </div>
      <hr />
      <!-- Opsi pensi -->
      <label for="exampleInputEmail1" class="form-label mt-4"
        >Di pentas seni mau tampil sebagai apa ?</label
      >
      <select
        name="pilihan-pensi"
        class="form-select mb-5"
        aria-label="Default select example"
      >
        <option>Tidak ada</option>
        <option>Solo musik</option>
        <option>Band</option>
        <option>Dance</option>
        <option>Drama</option>
        <option>Stand up comedy</option>
        <option>Puisi</option>
      </select>
      <hr />
      <!-- Pesan -->
      <div class="mb-5">
        <label for="exampleInputEmail1" class="form-label mt-5"
          ><strong>Pesan & Saran</strong></label
        >
        <input
          name="pesan"
          type="text"
          class="form-control"
          id="exampleInputEmail1"
          aria-describedby="emailHelp"
          required
          placeholder="isi pesan & saran anda disini"
        />
      </div>
      <!-- Button -->
      <button
        name="button-send"
        type="button submit"
        class="btn btn-primary button-send btn-kirim mb-3"
      >
        Kirim
      </button>
      <button
        class="btn btn-primary mb-3 d-none btn-loading"
        type="button"
        disabled
      >
        <span
          class="spinner-grow spinner-grow-sm"
          role="status"
          aria-hidden="true"
        ></span>
        Loading...
      </button>
    </form>

    <!-- Boostrap script -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- Gsheet script -->
    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbzQ0JEK_p3DqatnVPcnWTLo0Ov5WeQy_DjwLilNkNVzoEMcjuTSK5Wxh6-JsbUfs3DP7w/exec";
      const form = document.forms["sa-if22-kuesioner"];
      const btnKirim = document.querySelector(".btn-kirim");
      const btnLoading = document.querySelector(".btn-loading");
      const myAlert = document.querySelector(".my-alert");
      //
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        btnLoading.classList.toggle("d-none");
        btnKirim.classList.toggle("d-none");
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            btnLoading.classList.toggle("d-none");
            btnKirim.classList.toggle("d-none");
            myAlert.classList.toggle("d-none");
            form.reset("");
            console.log("Success!", response);
          })
          .catch((error) => console.error("Error!", error.message));
      });
    </script>
  </body>
</html>
